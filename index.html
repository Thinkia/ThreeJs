<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang='zh-CN' xml:lang='zh-CN' xmlns='http://www.w3.org/1999/xhtml'>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>往事缓缓拂过眼前，是忧伤还是快乐呢？</title>
<link rel="stylesheet" type="text/css" href="css/reset_y.css">
<link rel="stylesheet" type="text/css" href="css/index.css">
</head>
<body class="impress-not-supported">
<div class="bg"><img src="images/bg2017.png" width="100%" /></div>
<header class="top" id="top">
	<h1><a href="http://thinkia.github.io/Thinkio/" target="_blank"><img src="images/160_os_logo.png" /></a><em>2017 My Github(Three.js)</em></h1>
	<div class="music" id="bgMusicSwitch" title="停止背景音乐">
		<div class="triangle"></div>
		<div class="pause pause1"></div>
		<div class="pause pause2"></div>
	</div>
</header>

<section id="timeline" class="timeline">
	<div id="line" class="line_white"></div>
	<div id="impress">
		<div id="timeList">
			<div class="step year" data-x="-600" data-y="0" data-scale ="0.5" id="0">
				<div class="year2017">2017</div>
				<div class="list_show">情不知所起，一往而深<br><br>-->点击黄色字体</div>
			</div>
			<div class="timeList_item step" data-x="0" data-y="0" id="1">
				<div class="circle">11/23</div>
				<h2 class="timeList_item_title">create a scene(vrtest)</h2>
				<div class="list_show show1" >
					<img src="images/2017_11/Hello_ThreeJs.png" width="500">
					<h2><a href="https://thinkia.github.io/ThreeJs/vrtest/Test1_create%20a%20scene.html" target="_blank">Hello-ThreeJs</a></h2>
					<p>万丈高楼平地起</p>
				</div>
			</div>
			<div class="timeList_item step"  data-x="200" data-y="0" id="2">
				<div class="circle">11/24</div>
				<h2 class="timeList_item_title">hometown(demo)</h2>
				<div class="list_show">
					<img src="images/2017_11/Panorama_hometown.png" width="500">
					<h2><a href="https://thinkia.github.io/ThreeJs/demos/panorama_hometown.html" target="_blank">Panorama_Hometown</a></h2>
					<p >飘摇兮 若流风之回雪</p>
				</div>
			</div>
			<div class="timeList_item step" data-x="400" data-y="0" id="3">
				<div class="circle">11/25</div>
				<h2 class="timeList_item_title">ambient light(vrtest)</h2>
				<div class="list_show">
					<img src="images/2017_11/ambient_light.png	" width="500">
					<h2><a href="https://thinkia.github.io/ThreeJs/vrtest/Test2_ambient%20%20light.html" target="_blank">Light and shadow</a></h2>
					<p>木叶所起 有阳光必有黑暗</p>
				</div>
			</div>
			<div class="timeList_item step" data-x="600" data-y="0" id="4">
				<div class="circle">12/01</div>
				<h2 class="timeList_item_title">mesh map (vrtest)</h2>
				<div class="list_show">
				<img src="images/2017_12/mesh_map.png" width="500">
					<h2><a href="https://thinkia.github.io/ThreeJs/vrtest/Test3_mesh%20map.html" target="_blank">Mesh Map</a></h2>
					<p>织绡绮丽 如梦佳期</p></div>
			</div>
			<div class="timeList_item step" data-x="800" data-y="0" id="5">
				<div class="circle">12/05</div>
				<h2 class="timeList_item_title">photo wall(demo)</h2>
				<div class="list_show">
					<img src="images/2017_12/photo_wall.png" height="500">
					<h2><a href="https://thinkia.github.io/ThreeJs/demos/photo_wall.html" target="_blank">Photo Wall</a></h2>
					<p>往事随风 回忆怎么潜 </p>
				</div>
			</div>
			<div class="timeList_item step" data-x="1000" data-y="0" id="6">
				<div class="circle">12/12</div>
				<h2 class="timeList_item_title">monster(demo)</h2>
				<div class="list_show">
					<img src="images/2017_12/monster.png" width="500">
					<h2><a href="https://thinkia.github.io/ThreeJs/demos/monster.html" target="_blank">Monster</a></h2>
					<p>小的时候觉得遥不可及的东西，有太多期待和幻想;
	
					</p>
				</div>
			</div>
			<div class="timeList_item step" data-x="1200" data-y="0" id="7">
				<div class="circle">12/13</div>
				<h2 class="timeList_item_title">Monster_LV1(demo)</h2>
				<div class="list_show">
					<img src="images/2017_12/monster_lv1.png" width="500">
					<h2><a href="https://thinkia.github.io/ThreeJs/demos/monster_lv1.html" target="_blank">Monster_lv1</a></h2>
					<p>在这脚步急促的城市之中,不经意间,已经失去了好多好多东西;
					</p>
				</div></div>
			<div class="timeList_item step" data-x="1400" data-y="0" id="8">
				<div class="circle">12/17</div>
				<h2 class="timeList_item_title">wavy(demo)</h2>
				<div class="list_show">
					<img src="images/2017_12/wavy.png" width="500">
					<h2><a href="https://thinkia.github.io/ThreeJs/demos/simple/wavy_less.html" target="_blank">Wavy</a></h2>
					<p>七彩的波浪</p>
				</div>
			</div>
			<div class="timeList_item step" data-x="1600" data-y="0" id="9">
				<div class="circle">12/21</div>
				<h2 class="timeList_item_title">skeletal_run(demo)</h2>
				<div class="list_show">
					<img src="images/2017_12/skeletal_run.png" width="500">
					<h2><a href="https://thinkia.github.io/ThreeJs/demos/skeletal_run.html" target="_blank">Skeletal_run</a></h2>
					<p>one  json   two  action </p>
				</div>
			</div>
			<div class="timeList_item step refresh" data-x="1800" data-y="0" id="10">
				<div class="list_show">
					<a href='javascript:replay();'><img src="images/refress.png"/></a>
					<p class="end">更新于2017.12.16 1:11:11</p>
				</div>
			</div>
		</div>
	</div>
</section>
<script id="jquery_183" type="text/javascript" class="library" src="js/jquery-1.8.3.min.js"></script>
<script> 
   (function() {
     if (! 
     /*@cc_on!@*/
     0) return;
     var e = "abbr, article, aside, audio, canvas, datalist, details, dialog, eventsource, figure, footer, header, hgroup, mark, menu, meter, nav, output, progress, section, time, video".split(', ');
     var i= e.length;
     while (i--){
         document.createElement(e[i])
     } 
})() 
</script>

<div class="gotop"> <a href="#top"><img src="images/top.png" title="回顶部"/></a></div>

<script type="text/javascript" src="js/impress.js"></script>


</body>
</html>

<script>var impress = $.browser.msie?undefined:impress();

//预加载图片
new Image().src = "images/bg2017.png";

var replay = function(){
	if(impress){
		impress.goto($("#0")[0]);
	}else{
		location.reload();
	}
};


var event_cache = null;

var loop = true,timing=null;

$(function(){			
	
	 $(window).bind('scroll resize',function(){
        if($(window).scrollTop() >= 1)
            $('.gotop').css('display','block');
        else
            $('.gotop').css('display','none');
    });   
	
	var cache_event_top = function(){
		if(event_cache!=null)
			return;
		event_cache = new Array(24);
		var i = 0;
		var length = event_cache.length;
		for(;i<length;i++){
			var id = i+1;
			event_cache[i] = $("#"+id).position().top;
		}
	}
		
	var resize = function(){
		
		var width = $(window).width();
		var height = $(window).height();
		$(".bg img").css("width",width);
		$(".bg img").css("height",height);
		
	};
		
	var cur_month = 2;

	var getMonthByTop = function(top){
		for(var i=0,event=event_cache[i];i<event_cache.length;i++){
				if(i==event_cache.length-1 && top>=event || top>=event && top<event_cache[i+1]){
					var date = $("#"+(i+1)).find(".circle").html();
					if(date){
						var month = +date.split("/")[0];
						return month;
					}
				}
		}
		return cur_month;
	};
		
	var scroll = function(){
		if($.browser.msie){
			cache_event_top();
			var st = $(window).scrollTop();
			var month = getMonthByTop(st);
			if(month!=cur_month){
				changeBackground(month);
				cur_month = month;
			}
		}
	};
	
	resize();
	
	$(window).resize(function(){
		resize();
	});
	
	$(window).scroll(function(){
		scroll();
	});
	
	$(".circle").click(function(){
			loop = false;
		if(timing)
			clearInterval(timing);
	});
	$(".refresh img").click(function(){
		loop = true;
		$(".refresh img").addClass("rotate45");
		setTimeout(function(){
			$(".refresh img").removeClass("rotate45");
		},2000);	
	});
	if(!$.browser.msie){
		if($.browser.safari)
			bgMusic = new Audio('music/music.mp3');
		else
			bgMusic = new Audio('music/music.mp3');
		bgMusic.loop = true;
		bgMusic.volume = 0.7;
		$('#bgMusicSwitch').click(function(){
			if(bgMusic.paused){
				bgMusic.play();
				$(".triangle").css("display","none");
				$(".pause").css("display","block");
				$("#bgMusicSwitch").attr("title","暂停背景音乐");
			}else{
				bgMusic.pause();
				$(".pause").css("display","none");
				$(".triangle").css("display","block");
				$("#bgMusicSwitch").attr("title","播放背景音乐");
			}});
		var bgSwitch = function(){
			$('#bgMusicSwitch').trigger('click');
		}
				
		bgSwitch();
	}else{
		$(".music").hide();
	}		
	
});


if(impress)impress.init();

var last_month = 4;

var changeBackground = function(month){
	var body = $("body");
	var url = "";
	if(month == 12 || month == 1 || month==2){
		if(last_month==4)
			return;
		last_month = 4;
		url = "images/bg2017.png";
		$("header").css("background-color","rgba(255,255,255,0.2)");
		$(".impress-supported .list_show h2").css("color","#0087f1");
		$(".impress-not-supported .timeList_item_title").css("color","#0087f1");
	}else if(month>=3 && month<=5){
		if(last_month==1)
			return;
		last_month = 1;
		url = "images/bg2017.png";
		$("header").css("background-color","rgba(255,255,255,0.2)");
		$(".impress-supported .list_show h2").css("color","#fff");
		$(".impress-not-supported .timeList_item_title").css("color","#eca200");
	}else if(month>=6 && month<=8){
		if(last_month==2)
			return;
		last_month = 2;
		url = "images/bg2017.png";
		$("header").css("background-color","rgba(0,0,0,0.2)");
		$(".impress-supported .list_show h2").css("color","#82e211");
		$(".impress-not-supported .timeList_item_title").css("color","#82e211");
	}else{
		if(last_month==3)
			return;
		last_month = 3;
		url = "images/bg2017.png";
		$("header").css("background-color","rgba(255,255,255,0.2)");
		$(".impress-supported .list_show h2").css("color","#ffca00");
		$(".impress-not-supported .timeList_item_title").css("color","#ffca00");
	}
	$(".bg img").attr("src",url);
};

if(!$.browser.msie){
	document.addEventListener('impress:stepenter', function(e){
		var cur = arguments[0].target;
		var date = $(cur).find(".circle").html();
		if(date){
			var month = +date.split("/")[0];
			changeBackground(month);
		}
		if(!loop)
			return;
		if (typeof timing !== 'undefined') clearInterval(timing);
		var duration = 4000;
		timing = setInterval(function(){
			var dom = impress.next();
			var id = +$(dom).attr("id");
			if(id==25){
				clearInterval(timing);
				loop = false;
			}
		}, duration);
	});
}
</script>
